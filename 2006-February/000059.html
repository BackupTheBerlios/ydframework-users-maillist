<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ydf-users] YDDatabaseObject code generator
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ydframework-users/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:ydframework-users%40lists.berlios.de?Subject=Re%3A%20%5Bydf-users%5D%20YDDatabaseObject%20code%20generator&In-Reply-To=%3C20060224132425.35934.qmail%40web50212.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000074.html">
   <LINK REL="Next"  HREF="000060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ydf-users] YDDatabaseObject code generator</H1>
    <B>dab</B> 
    <A HREF="mailto:ydframework-users%40lists.berlios.de?Subject=Re%3A%20%5Bydf-users%5D%20YDDatabaseObject%20code%20generator&In-Reply-To=%3C20060224132425.35934.qmail%40web50212.mail.yahoo.com%3E"
       TITLE="[ydf-users] YDDatabaseObject code generator">dab214 at yahoo.com
       </A><BR>
    <I>Fri Feb 24 14:24:25 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000074.html">[ydf-users] Request: YDForm::addElements()
</A></li>
        <LI>Next message: <A HREF="000060.html">[ydf-users] YDDatabaseObject code generator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi all,
it's a bit tedios writing the database classes,
registring all the keys and fields.
anyone written something that automates this stuff?

i just wrote this quickly:

$link = mysql_connect('localhost', 'root', '');
mysql_select_db(&quot;whatever&quot;);
$result = mysql_query(&quot;SHOW COLUMNS FROM
&quot;.$_GET['table']);
while ( $row = mysql_fetch_assoc($result)) {
   if ( $row[&quot;Field&quot;] == &quot;id&quot; ) 
      echo &quot;\$this-&gt;registerKey ( '&quot;.$row[&quot;Field&quot;].&quot;',
true );&lt;br&gt;&quot;; 
   elseif ( substr ( $row[&quot;Field&quot;], -2, 2 ) == &quot;id&quot;) 
      echo &quot;\$this-&gt;registerKey ( '&quot;.$row[&quot;Field&quot;].&quot;'
);&lt;br&gt;&quot;; 
   else  
      echo &quot;\$this-&gt;registerField (
'&quot;.$row[&quot;Field&quot;].&quot;' );&lt;br&gt;&quot;;   
} 

but it be nice to have something a bit more extensive.
maybe generate code for the other classes and the
templates too. and even be able to choose from several
code templates before generating the file. 
E.g. template database_cross_ref:
include...
class {$class_name} extends YDDatabaseObject {
    function {$class_name} {
        $this-&gt;YDDatabaseObject();
        $this-&gt;registerDatabase(
$GLOBALS['YDDBOBJ_CONN'] );
        $this-&gt;registerTable( {$table_name} );

        // SHOW COLUMNS
        {$keys_and_fields}
    }
}

so for the type &quot;create database class&quot;, setting the
class and table name and picking a template.

please let me know what you think, thanks. 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000074.html">[ydf-users] Request: YDForm::addElements()
</A></li>
	<LI>Next message: <A HREF="000060.html">[ydf-users] YDDatabaseObject code generator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ydframework-users">More information about the YDFramework-users
mailing list</a><br>
</body></html>
